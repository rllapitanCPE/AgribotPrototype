# üöÄ QUICK REFERENCE CARD

## 3 Commands You Need

### 1Ô∏è‚É£ TRAIN (First time only)
```bash
python anomaly_detection_model.py
```
‚è±Ô∏è Time: ~5 seconds  
üìä Output: Saves model files (anomaly_model.pkl, anomaly_scaler.pkl)

---

### 2Ô∏è‚É£ MONITOR (Check all data)
```bash
python anomaly_warnings.py
```
‚è±Ô∏è Time: ~3 seconds  
üìä Output: All anomalies with Plant ID, Date, values

---

### 3Ô∏è‚É£ TEST (Check one reading)
```bash
python anomaly_utility.py check 32 65 6.4 Plant1 2023-08-01
```
‚è±Ô∏è Time: <1 second  
üìä Output: ‚úì NORMAL or ‚ö†Ô∏è ANOMALY

---

## üìã Parameter Guide

```
python anomaly_utility.py check <TEMP> <HUMIDITY> <PH> [PLANT_ID] [DATE]

<TEMP>       = Temperature in ¬∞C (e.g., 32)
<HUMIDITY>   = Humidity in % (e.g., 65)
<PH>         = pH Level (e.g., 6.4)
[PLANT_ID]   = Optional plant identifier
[DATE]       = Optional date for reference
```

### Examples:
```bash
# Detailed analysis with plant info
python anomaly_utility.py check 32 65 6.4 Plant1 2023-08-01

# Quick check (no plant info)
python anomaly_utility.py check 32 65 6.4

# Anomalous reading example
python anomaly_utility.py check 20 50 6.0 Plant5 2023-09-09
```

---

## üéöÔ∏è Sensitivity Settings

Edit `config.py` line:
```python
CONTAMINATION_RATE = 0.05  # Default
```

| Value | Sensitivity | Anomalies % | Use When |
|-------|-------------|------------|----------|
| 0.02 | Low | ~2% | Few false alarms |
| 0.05 | Medium | ~5% | Balanced (default) |
| 0.10 | High | ~10% | Catch more issues |
| 0.15 | Very High | ~15% | Sensitive detection |

---

## üö¶ Anomaly Score Meanings

```
Score > -0.2    = ‚úì NORMAL (safe)
-0.2 to -0.5    = ‚ö†Ô∏è WARNING (investigate)
Score < -0.5    = üö® ANOMALY (act now)
```

---

## üîÑ Daily Workflow

```
Morning:        python anomaly_warnings.py
New sensor:     python anomaly_utility.py check 32 65 6.4 P1 2024-02-16
Weekly:         python anomaly_warnings.py > weekly_report.txt
Monthly:        python anomaly_detection_model.py (retrain)
```

---

## ‚öôÔ∏è Setup Checklist

- [ ] `credentials.json` in folder (for Google Sheets auth)
- [ ] `lettuce_dataset_updated.csv` in folder (for backup data)
- [ ] Run `python anomaly_detection_model.py` once
- [ ] Check `anomaly_model.pkl` and `anomaly_scaler.pkl` exist
- [ ] Test with `python anomaly_utility.py check 32 65 6.4`

---

## üÜò Quick Troubleshooting

| Problem | Solution |
|---------|----------|
| "No module named joblib" | `pip install joblib scikit-learn` |
| "credentials.json not found" | Copy credentials.json to script folder |
| "Model not found" | Run `python anomaly_detection_model.py` |
| "Spreadsheet not found" | Check spreadsheet name in code |
| "No anomalies detected" | Increase CONTAMINATION_RATE to 0.10 |

---

## üìä What Gets Monitored

- üå°Ô∏è **Temperature (¬∞C)** - Normal range: 23-31¬∞C
- üíß **Humidity (%)** - Normal range: 57-73%
- üß™ **pH Level** - Normal range: 6.2-6.6

Combinations outside normal ranges are flagged as anomalies.

---

## üìÅ Important Files

```
anomaly_detection_model.py    ‚Üê Run once to train
anomaly_warnings.py            ‚Üê Run regularly to monitor
anomaly_utility.py             ‚Üê Run for single readings
config.py                      ‚Üê Edit to customize
anomaly_model.pkl              ‚Üê Trained model (don't delete)
anomaly_scaler.pkl             ‚Üê Data normalizer (don't delete)
```

---

## üéØ Success Indicators

‚úÖ Model trained successfully:
```
Total records: 3169
Anomalies: 159 (5.02%)
```

‚úÖ Normal reading detected:
```
‚úì NORMAL READING
Anomaly Score: -0.4801
```

‚úÖ Anomaly detected:
```
‚ö†Ô∏è ANOMALY DETECTED!
Anomaly Score: -0.6587
```

---

## üí° Pro Tips

1. Save anomaly reports: `python anomaly_warnings.py > report.txt`
2. Monitor specific plant: Edit line in anomaly_warnings.py
3. Add more features: Edit FEATURE_COLUMNS in config.py
4. Set up auto-monitoring: Use Windows Task Scheduler or Linux Cron

---

**Keep this card handy for quick reference!**
